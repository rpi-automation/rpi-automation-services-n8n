{
  "updatedAt": "2025-11-04T18:32:01.000Z",
  "createdAt": "2025-11-04T17:52:42.188Z",
  "id": "fM2inZXhJyADdk6s",
  "name": "[n8n]get_current_credentials",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        176,
        -304
      ],
      "id": "1b98083d-7089-41bf-ba84-9bf2875172a3",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "command": "cat /tmp/workflows/decrypted.json"
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        624,
        -304
      ],
      "id": "76b83e43-beb7-495e-ba92-1dd9d5987dc8",
      "name": "Open file"
    },
    {
      "parameters": {
        "command": "n8n export:credentials --all --decrypted --output=/tmp/workflows/decrypted.json"
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        400,
        -304
      ],
      "id": "152a85a2-7062-4aa8-afe6-7ce192e440c3",
      "name": "Export decrypted credentials to file"
    },
    {
      "parameters": {
        "command": "rm /tmp/workflows/decrypted.json"
      },
      "type": "n8n-nodes-base.executeCommand",
      "typeVersion": 1,
      "position": [
        1072,
        -304
      ],
      "id": "0ed424d0-978d-4889-891c-59c1af3b2487",
      "name": "Delete temp file"
    },
    {
      "parameters": {
        "content": "you can see all credentials by checking output of `Split JSON to separate redentials` step",
        "height": 80
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        816,
        -144
      ],
      "id": "a6be9901-9446-4668-9bc4-4ca31b4f7da3",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\nconst fileContent = items[0].json.stdout;\n\nconst allData = JSON.parse(fileContent);\n// If workflows are in an array at root level\nconst workflows = Array.isArray(allData) ? allData : allData.workflows || [allData];\n\nreturn workflows.map(workflow => ({\n  type: workflow.type,\n  data: workflow.data\n}));"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        848,
        -304
      ],
      "id": "85ee48e9-f4f7-481b-a215-00cf34ae299c",
      "name": "Split JSON to separate credentials"
    }
  ],
  "connections": {
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Export decrypted credentials to file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Read/Write Files from Disk",
            "type": "main",
            "index": 0
          },
          {
            "node": "Code in JavaScript1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Open file": {
      "main": [
        [
          {
            "node": "Split JSON to separate credentials",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Export decrypted credentials to file": {
      "main": [
        [
          {
            "node": "Open file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split JSON to separate credentials": {
      "main": [
        [
          {
            "node": "Delete temp file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {},
  "versionId": "e9465c20-f2a9-4655-8392-27a30a02d820",
  "triggerCount": 0,
  "shared": [
    {
      "updatedAt": "2025-11-04T17:52:42.191Z",
      "createdAt": "2025-11-04T17:52:42.191Z",
      "role": "workflow:owner",
      "workflowId": "fM2inZXhJyADdk6s",
      "projectId": "dL8YKrh5gAsYUBJ3"
    }
  ],
  "tags": []
}